document.body.style.backgroundColor="#15202b";document.documentElement.style.webkitUserSelect="none";document.documentElement.style.webkitTouchCallout="none";const m=document.querySelector("meta[name=viewport]");m&&(m.content+=",maximum-scale=1");let a=moduleRaid();a&&a.findFunction("jQuery")&&a.findFunction("jquery:")[0];const g=t=>new Promise(s=>setTimeout(s,t));(async()=>{await g(800),i("window onload"),i("try didLoad");try{webkit.messageHandlers.jsCallbackHandler.postMessage("didLoad"),webkit.messageHandlers.viewDidLoad.postMessage(!0)}catch(t){i("ERROR! viewDidLoad Faild "+String(t))}try{p(),i("login style changed")}catch(t){i("login load error"+String(t))}new MutationObserver(t=>[...t||[]].forEach(s=>{const e=s.target;if(e instanceof HTMLElement){if(e.id==="open-modal"){const r=e.querySelector(".js-mediatable"),l=e.querySelector(".js-dismiss"),c=e.getElementsByTagName("video").length>0;console.log(c),c||r&&l&&l.click()}const n=e.querySelector("video");if(n!==null&&n.classList.contains("js-media-gif")){n.setAttribute("controls",""),n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline","");const l=n.classList.value;n.classList.value="-",window.setTimeout(function(){n.classList.value=l},1)}}})).observe(document.body,{childList:!0,subtree:!0})})();function y(t){webkit.messageHandlers.isTweetButtonHidden.postMessage(t)}function p(){document.querySelector(".startflow-background").hidden=!0,document.querySelector(".startflow-background").style.backgroundColor="#252525",document.querySelector(".app-info-panel").style.margin="92px auto",document.querySelector(".login-container").style.minHeight="0px",document.querySelector(".app-info-title").innerText="MarinDeck\u3078\u3088\u3046\u3053\u305D",document.querySelector(".app-info-title").style.fontSize="22px",document.querySelector(".app-info-text p").innerText="",document.querySelectorAll(".js-startflow-chrome")[1].hidden=!0,document.querySelector(".js-login-form").style.backgroundColor="rgb(30,41,55)",document.querySelector(".js-login-form").border=null,document.querySelector("#login-form-title").innerText="Twitter\u30A2\u30AB\u30A6\u30F3\u30C8\u3067\u30ED\u30B0\u30A4\u30F3",document.querySelector("#login-form-title").style.fontSize="16px",document.querySelector(".js-login-form .Button").innerText="\u30ED\u30B0\u30A4\u30F3",document.querySelector("#login-form-title").style.color="white",document.querySelector(".js-login-form").style.backgroundColor="transparent",document.querySelector(".js-login-form").style.borderStyle="none",document.querySelector("#login-form-title").style.borderStyle="none",document.querySelector(".divider-bar").style.display="none",document.querySelector(".js-signin-ui").style.margin="10% auto",document.querySelector(".js-signin-ui").style.width="98%",document.querySelector(".js-login-form .Button").style.padding="13px",document.querySelector(".sprite-logo").remove(),document.querySelector(".app-info-text").style.textAlign="center",document.querySelector(".app-info-text").style.width="100%",document.querySelectorAll(".app-signin-wrap")[1].style.width=null,document.querySelector(".js-signin-ui .Button").style.borderRadius="6px",document.querySelector(".js-signin-ui .Button").style.outline="none",document.querySelectorAll(".app-signin-wrap")[1].style.width="100%",document.querySelector(".startflow-link").removeAttribute("target"),y(!0)}function i(...t){console.log("JS Log:",t),webkit.messageHandlers.jsCallbackHandler.postMessage(t)}function f(t,s){webkit.messageHandlers.jsCallbackHandler.postMessage("CALLED position element");const e=document.elementFromPoint(t,s);if(console.log(e),webkit.messageHandlers.jsCallbackHandler.postMessage(String(e.style.backgroundImage)),!e.classList.contains("js-media-image-link")&&!e.classList.contains("media-img")){console.log(e.classList);return}let o=[],n=0,r=[];return e.parentElement.parentElement.querySelectorAll(".js-media-image-link").forEach(function(l,c){l===e&&(n=c);const d=l.style.backgroundImage;d===""?o.push(l.querySelector("img").src):o.push(d);const u=l.getBoundingClientRect();r.push([u.left,u.top,u.width,u.height])}),webkit.messageHandlers.imageViewPos.postMessage(r),[n,o]}(async()=>{let t=[];new MutationObserver(s=>{document.querySelectorAll(".js-media-image-link").forEach(function(e){t.indexOf(e)===-1&&(t.push(e),e.parentElement.classList.contains("is-video")?e.href.includes("youtube.com")&&e.addEventListener("click",function(o){const n=o.target.href;webkit.messageHandlers.openYoutube.postMessage(n)}):e.addEventListener("click",function(o){i("image onClick");const n=f(o.x,o.y);webkit.messageHandlers.imagePreviewer.postMessage(n)}))})}).observe(document.body,{childList:!0,subtree:!0})})();const b=(t=null)=>TD.controller.clients.getClient(t||TD.storage.accountController.getDefault().privateState.key)||TD.controller.clients.getPreferredClient("twitter"),S=(t,s=null,e=null)=>(new Promise((o,n)=>{b(e).update(t,s,null,null,null,o,n)}),"Done");function w(){window.webkit.messageHandlers.openSettings.postMessage(!0)}w();S("hello");
